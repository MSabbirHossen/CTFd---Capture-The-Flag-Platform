<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Scoreboard - Al Khwarizmi CTF Contest</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.js"></script>
  </head>
  <body>
    <!-- Navigation Bar -->
    <nav class="navbar">
      <div class="nav-container">
        <div class="nav-brand">
          <a
            href="index.html"
            style="
              display: flex;
              align-items: center;
              gap: 0.5rem;
              text-decoration: none;
              color: white;
            "
          >
            <i class="fas fa-flag"></i>
            <span>CTFd</span>
          </a>
        </div>
        <ul class="nav-menu">
          <li><a href="users.html" class="nav-link">Users</a></li>
          <li><a href="teams.html" class="nav-link">Teams</a></li>
          <li>
            <a href="scoreboard.html" class="nav-link active">Scoreboard</a>
          </li>
          <li><a href="#challenges" class="nav-link">Challenges</a></li>
          <li>
            <a href="#" class="nav-link admin-link"
              ><i class="fas fa-lock"></i> Admin Panel</a
            >
          </li>
          <li>
            <a href="notifications.html" class="nav-link"
              ><i class="fas fa-bell"></i> Notifications</a
            >
          </li>
          <li>
            <a href="team-profile.html" class="nav-link"
              ><i class="fas fa-users"></i> Team</a
            >
          </li>
          <li>
            <a href="profile.html" class="nav-link"
              ><i class="fas fa-user-circle"></i> Profile</a
            >
          </li>
          <li>
            <a href="settings.html" class="nav-link"
              ><i class="fas fa-cog"></i> Settings</a
            >
          </li>
        </ul>
        <div class="hamburger">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </nav>

    <!-- Scoreboard Page Header -->
    <section class="page-header">
      <div class="page-header-content">
        <h1>Scoreboard</h1>
        <p class="page-description">
          Real-time competition standings and performance tracking
        </p>
      </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Control Panel -->
      <section class="scoreboard-controls">
        <div class="control-tabs">
          <button class="tab-btn active" data-tab="rankings">
            <i class="fas fa-trophy"></i> Rankings
          </button>
          <button class="tab-btn" data-tab="chart">
            <i class="fas fa-chart-line"></i> Chart
          </button>
          <button class="tab-btn" data-tab="timeline">
            <i class="fas fa-timeline"></i> Timeline
          </button>
          <button class="tab-btn" data-tab="stats">
            <i class="fas fa-chart-bar"></i> Statistics
          </button>
        </div>

        <div class="filter-controls">
          <select id="roundFilter" class="filter-select">
            <option value="all">All Rounds</option>
            <option value="preliminary">Preliminary Round</option>
            <option value="final">Final Round</option>
          </select>
          <input
            type="text"
            id="searchScoreboard"
            class="search-input"
            placeholder="Search teams..."
          />
          <label class="toggle-switch">
            <input type="checkbox" id="liveToggle" checked />
            <span class="slider"></span>
            <span class="label-text">Live Updates</span>
          </label>
        </div>
      </section>

      <!-- Rankings Tab -->
      <div class="tab-content active" id="rankings-tab">
        <!-- Top 3 Podium -->
        <section class="podium-section">
          <h2>Top Teams Podium</h2>
          <div class="podium">
            <!-- 2nd Place -->
            <div class="podium-position rank-2">
              <div class="podium-box">
                <div class="podium-medal">
                  <i class="fas fa-medal"></i>
                </div>
                <h3 id="podium2Name">B Team</h3>
                <p class="team-score" id="podium2Score">3000 pts</p>
                <div class="podium-height height-2"></div>
              </div>
              <p class="position-label">2nd Place</p>
            </div>

            <!-- 1st Place (Center) -->
            <div class="podium-position rank-1">
              <div class="podium-box">
                <div class="podium-medal gold">
                  <i class="fas fa-crown"></i>
                </div>
                <h3 id="podium1Name">OxJaniNa</h3>
                <p class="team-score" id="podium1Score">3200 pts</p>
                <div class="podium-height height-1"></div>
              </div>
              <p class="position-label">1st Place</p>
            </div>

            <!-- 3rd Place -->
            <div class="podium-position rank-3">
              <div class="podium-box">
                <div class="podium-medal">
                  <i class="fas fa-medal"></i>
                </div>
                <h3 id="podium3Name">Cyber Ninjas</h3>
                <p class="team-score" id="podium3Score">2800 pts</p>
                <div class="podium-height height-3"></div>
              </div>
              <p class="position-label">3rd Place</p>
            </div>
          </div>
        </section>

        <!-- Rankings Table -->
        <section class="rankings-section">
          <div class="section-header">
            <h2>Full Rankings</h2>
            <div class="view-options">
              <button class="view-btn active" id="tableView">
                <i class="fas fa-table"></i> Table
              </button>
              <button class="view-btn" id="cardView">
                <i class="fas fa-th"></i> Cards
              </button>
            </div>
          </div>

          <!-- Table View -->
          <div class="rankings-view active" id="table-view">
            <div class="table-responsive">
              <table class="scoreboard-table">
                <thead>
                  <tr>
                    <th class="rank-col">Rank</th>
                    <th class="team-col">Team</th>
                    <th class="score-col">Score</th>
                    <th class="challenges-col">Challenges</th>
                    <th class="progress-col">Progress</th>
                    <th class="status-col">Status</th>
                    <th class="time-col">Last Solve</th>
                  </tr>
                </thead>
                <tbody id="scoreboardTableBody">
                  <!-- Populated by JavaScript -->
                </tbody>
              </table>
            </div>
          </div>

          <!-- Card View -->
          <div class="rankings-view" id="card-view">
            <div class="rankings-grid" id="scoreboardCardsContainer">
              <!-- Populated by JavaScript -->
            </div>
          </div>
        </section>
      </div>

      <!-- Chart Tab -->
      <div class="tab-content" id="chart-tab">
        <section class="chart-section">
          <div class="chart-container">
            <h2>Score Progression - Top 10 Teams</h2>
            <div class="chart-wrapper">
              <canvas id="scoreChart"></canvas>
            </div>
          </div>

          <div class="chart-container">
            <h2>Challenge Distribution</h2>
            <div class="chart-wrapper compact">
              <canvas id="challengeChart"></canvas>
            </div>
          </div>
        </section>
      </div>

      <!-- Timeline Tab -->
      <div class="tab-content" id="timeline-tab">
        <section class="timeline-scores-section">
          <h2>Recent Activity Timeline</h2>
          <div class="timeline-filters">
            <select id="timelineFilter" class="timeline-filter-select">
              <option value="all">All Events</option>
              <option value="flagCapture">Flag Captures</option>
              <option value="firstBlood">First Blood</option>
              <option value="solves">Challenge Solves</option>
            </select>
          </div>
          <div class="activity-timeline" id="activityTimeline">
            <!-- Populated by JavaScript -->
          </div>
        </section>
      </div>

      <!-- Statistics Tab -->
      <div class="tab-content" id="stats-tab">
        <section class="detailed-stats-section">
          <div class="stats-grid">
            <!-- Stat Card 1 -->
            <div class="stat-box">
              <div class="stat-box-header">
                <h3>Total Solves</h3>
                <i class="fas fa-flag"></i>
              </div>
              <p class="stat-box-value" id="totalSolves">245</p>
              <p class="stat-box-label">challenges completed</p>
              <div class="stat-box-chart mini-chart-1"></div>
            </div>

            <!-- Stat Card 2 -->
            <div class="stat-box">
              <div class="stat-box-header">
                <h3>Avg. Team Score</h3>
                <i class="fas fa-trophy"></i>
              </div>
              <p class="stat-box-value" id="avgTeamScore">2080</p>
              <p class="stat-box-label">points per team</p>
              <div class="stat-box-chart mini-chart-2"></div>
            </div>

            <!-- Stat Card 3 -->
            <div class="stat-box">
              <div class="stat-box-header">
                <h3>Highest Score</h3>
                <i class="fas fa-medal"></i>
              </div>
              <p class="stat-box-value" id="highestScore">3200</p>
              <p class="stat-box-label">current leader</p>
              <div class="stat-box-chart mini-chart-3"></div>
            </div>

            <!-- Stat Card 4 -->
            <div class="stat-box">
              <div class="stat-box-header">
                <h3>Active Teams</h3>
                <i class="fas fa-users"></i>
              </div>
              <p class="stat-box-value" id="activeTeamsCount">9</p>
              <p class="stat-box-label">competing now</p>
              <div class="stat-box-chart mini-chart-4"></div>
            </div>

            <!-- Stat Card 5 -->
            <div class="stat-box">
              <div class="stat-box-header">
                <h3>Most Solved</h3>
                <i class="fas fa-star"></i>
              </div>
              <p class="stat-box-value" id="mostSolvedChallenge">20</p>
              <p class="stat-box-label">times solved</p>
              <div class="stat-box-chart mini-chart-5"></div>
            </div>

            <!-- Stat Card 6 -->
            <div class="stat-box">
              <div class="stat-box-header">
                <h3>Competition Phase</h3>
                <i class="fas fa-hourglass-start"></i>
              </div>
              <p class="stat-box-value" id="competitionPhase">Preliminary</p>
              <p class="stat-box-label">round status</p>
              <div class="status-indicator active"></div>
            </div>
          </div>
        </section>
      </div>

      <!-- Live Updates Indicator -->
      <div class="live-indicator" id="liveIndicator">
        <span class="live-pulse"></span>
        <span>Live</span>
      </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <p>Powered by <strong>CTFd</strong></p>
        <div class="footer-links">
          <a href="index.html">Home</a>
          <a href="#">About</a>
          <a href="#">Privacy</a>
          <a href="#">Terms</a>
          <a href="#">Contact</a>
        </div>
      </div>
    </footer>

    <script src="script.js"></script>
    <script src="scoreboard.js"></script>
  </body>
</html>
